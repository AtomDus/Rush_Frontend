<div>

  <!-- Titre principal -->
  <h2>
    Tableau de bord - Mes Projets
  </h2>

  <!-- Chargement -->
  <div *ngIf="isLoading">
    Chargement des projets...
  </div>

  <!-- Contenu principal -->
  <div *ngIf="!isLoading">

    <!-- Projets en attente -->
    <div>
      <h3>üïí Projets en attente</h3>
      <div *ngIf="projectsEnAttente.length === 0">Aucun projet en attente.</div>
      <div>
        <ng-container *ngFor="let project of projectsEnAttente">
          <app-project-details [project]="project"></app-project-details>

          <div>
            <button (click)="goToProject(project.id)">
              Voir les d√©tails
            </button>
          </div>

        </ng-container>
      </div>
    </div>

    <!-- Projets en cours -->
    <div>
      <h3>üöß Projets en cours</h3>
      <div *ngIf="projectsEnCours.length === 0">Aucun projet en cours.</div>
      <div>
        <ng-container *ngFor="let project of projectsEnCours">
          <div>
            <app-project-details [project]="project"></app-project-details>

            <div>
              <button (click)="goToProject(project.id)">
                Voir les d√©tails
              </button>
            </div>
          </div>
        </ng-container>
      </div>
    </div>

    <!-- Projets termin√©s -->
    <div class="mb-10">
      <h3>‚úÖ Projets termin√©s</h3>
      <div *ngIf="projectsTermines.length === 0">Aucun projet termin√©.</div>
      <div>
        <ng-container *ngFor="let project of projectsTermines">
          <app-project-details [project]="project"></app-project-details>
        </ng-container>
      </div>
    </div>

    <!-- Bouton d'ajout -->
    <button (click)="toggleFormVisibility()">
      {{ isFormVisible ? 'Annuler' : 'Ajouter un projet' }}
    </button>

    <!-- Formulaire d'ajout -->
    <div *ngIf="isFormVisible">
      <form (ngSubmit)="onSubmit()" #projectForm="ngForm">

        <div class="space-y-2">
          <label for="name">Nom du projet</label>
          <input type="text" id="name" [(ngModel)]="newProject.name" name="name" required />
        </div>

        <div class="space-y-2">
          <label for="description">Description</label>
          <input type="text" id="description" [(ngModel)]="newProject.description" name="description" required />
        </div>

        <div class="space-y-2">
          <label for="startingDate">Date de d√©but</label>
          <input type="date" id="startingDate" [(ngModel)]="newProject.startingDate" name="startingDate" required />
        </div>

        <div class="space-y-2">
          <label for="finishingDate">Date de fin</label>
          <input type="date" id="finishingDate" [(ngModel)]="newProject.finishingDate" name="finishingDate" required />
        </div>

        <div class="space-y-2">
          <label for="productionCompanyName">Nom de l'entreprise de production</label>
          <input type="text" id="productionCompanyName" [(ngModel)]="newProject.productionCompanyName" name="productionCompanyName" required />
        </div>

        <div class="space-y-2">
          <label for="duration">Dur√©e (en jours)</label>
          <input type="number" id="duration" [(ngModel)]="newProject.duration" name="duration" required />
        </div>

        <div class="space-y-2">
          <label for="budget">Budget</label>
          <input type="number" id="budget" [(ngModel)]="newProject.budget" name="budget" required />
        </div>

        <button type="submit" [disabled]="!projectForm.form.valid">
          Cr√©er le projet
        </button>
      </form>
    </div>
  </div>

  <!-- Calendrier -->
  <div *ngIf="!isLoading">
    <full-calendar [options]="calendarOptions"></full-calendar>
  </div>
</div>
